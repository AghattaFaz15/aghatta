<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>IntimaÃ§Ã£o Celestial - Aghatta XV</title>
<style>
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  html, body {
    height: 100%;
    background: white;
    color: gold;
    font-family: Georgia, serif;
    overflow: hidden;
  }
  .tela {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    user-select: none;
    transition: opacity 0.6s ease;
  }
  .oculto {
    opacity: 0;
    pointer-events: none;
  }

  /* Tela 1 */
  #tela1 {
    background: url('rolofechado.png') no-repeat center center;
    background-size: contain;
    cursor: pointer;
    font-size: 2.2em;
    text-shadow: 0 0 10px gold;
    text-align: center;
  }
  #tela1 span {
    margin-top: 85vh;
    display: block;
  }

  /* Tela 2 */
  #tela2 {
    background: url('roloaberto.png') no-repeat center center;
    background-size: contain;
    padding: 2em 2em 3em;
    flex-direction: column;
    overflow: hidden;
  }
  #textoConvite {
    overflow-y: auto;
    max-height: 60vh;
    font-size: 1.3em;
    line-height: 1.6em;
    padding-right: 1em;
    outline: none;
    text-shadow: 0 0 5px black;
  }
  #botaoAvancar {
    margin-top: 1em;
    background: gold;
    color: black;
    border: none;
    padding: 0.8em 1.5em;
    border-radius: 15px;
    font-weight: bold;
    font-size: 1.2em;
    box-shadow: 0 0 10px gold;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
  }
  #botaoAvancar.mostrar {
    opacity: 1;
    pointer-events: auto;
    cursor: pointer;
  }

  /* Tela 3 */
  #tela3 {
    background: url('imagem-capa.jpg') no-repeat center center;
    background-size: cover;
    cursor: pointer;
    font-size: 2.2em;
    text-shadow: 0 0 15px gold;
    color: gold;
    text-align: center;
    padding: 2em;
  }

  /* Tela 4 */
  #tela4 {
    background: black;
    justify-content: center;
    align-items: center;
  }
  video {
    width: 100vw;
    height: 100vh;
    object-fit: cover;
  }
</style>
</head>
<body>

  <!-- Tela 1 -->
  <div class="tela" id="tela1" role="button" tabindex="0" aria-label="Toque para abrir o pergaminho">
    <span>ğŸ•Šï¸ Os CÃ©us batem Ã  porta...<br><br>TOQUE PARA ABRIR</span>
  </div>

  <!-- Tela 2 -->
  <div class="tela oculto" id="tela2" aria-label="Pergaminho aberto com convite">
    <div id="textoConvite" tabindex="0" aria-live="polite" aria-atomic="true">
      <p><em>â€œAntes que eu nascesseâ€¦ o CÃ©u jÃ¡ sabia quem caminharia comigo.â€</em></p>
      <p>Em silÃªncio eterno, Deus jÃ¡ escrevia meu nomeâ€¦ e o seu, lado a lado.</p>
      <p>Por isso, <strong>se este convite chegou atÃ© vocÃª</strong>, nÃ£o pense que foi acaso â€” foi propÃ³sito.</p>
      <p>Uma <strong>IntimaÃ§Ã£o Celestial</strong> foi emitida... nÃ£o como obrigaÃ§Ã£o, mas como honra.</p>
      <p>Porque vocÃª nÃ£o Ã© apenas mais um nome na listaâ€¦ <strong>VocÃª Ã© memÃ³ria viva.</strong></p>
      <p>Ã‰ histÃ³ria que pulsa.<br>Ã‰ parte da promessa.</p>
      <p><strong>VocÃª Ã© um versÃ­culo no capÃ­tulo mais belo da minha jornada.</strong></p>
      <p>ğŸ“Œ Sua presenÃ§a nÃ£o Ã© apenas esperadaâ€¦ <strong>ela Ã© celebrada.</strong></p>
      <p>De todas as escolhas que o CÃ©u poderia fazerâ€¦ Ele escolheu vocÃª para estar aqui.</p>
      <p><em>EntÃ£o venha! Traga seu riso, sua lembranÃ§a, sua fÃ©. Traga quem vocÃª Ã© â€” porque Ã© assim, exatamente assim, que vocÃª faz parte da minha histÃ³ria.</em></p>
      <p><em>â€” Aghatta, filha sonhada e separada pelo Pai ğŸ‘‘âœ¨</em></p>
    </div>
    <button id="botaoAvancar" aria-label="AvanÃ§ar para a prÃ³xima etapa">AvanÃ§ar</button>
  </div>

  <!-- Tela 3 -->
  <div class="tela oculto" id="tela3" role="button" tabindex="0" aria-label="Clique para ouvir o som e continuar">
    <span>ğŸŒŸ Os CÃ©us batem Ã  porta...<br><br>TOQUE PARA OUVIR</span>
    <audio id="audioToctoc" src="toctoc.mp3" loop preload="auto"></audio>
  </div>

  <!-- Tela 4 -->
  <div class="tela oculto" id="tela4" aria-label="Mensagem em vÃ­deo">
    <video id="videoMensagem" muted playsinline preload="auto">
      <source src="mensagem.mp4" type="video/mp4" />
      Seu navegador nÃ£o suporta o vÃ­deo.
    </video>
  </div>

<script>
  const tela1 = document.getElementById('tela1');
  const tela2 = document.getElementById('tela2');
  const tela3 = document.getElementById('tela3');
  const tela4 = document.getElementById('tela4');
  const textoConvite = document.getElementById('textoConvite');
  const botaoAvancar = document.getElementById('botaoAvancar');
  const audioToctoc = document.getElementById('audioToctoc');
  const videoMensagem = document.getElementById('videoMensagem');

  function mostrarTela(esconder, mostrar) {
    esconder.classList.add('oculto');
    mostrar.classList.remove('oculto');
  }

  tela1.addEventListener('click', () => {
    mostrarTela(tela1, tela2);
  });
  tela1.addEventListener('keydown', e => {
    if(e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      mostrarTela(tela1, tela2);
    }
  });

  textoConvite.addEventListener('scroll', () => {
    if(textoConvite.scrollTop + textoConvite.clientHeight >= textoConvite.scrollHeight - 5) {
      botaoAvancar.classList.add('mostrar');
    }
  });

  botaoAvancar.addEventListener('click', () => {
    mostrarTela(tela2, tela3);
  });

  let tocouAudio = false;
  tela3.addEventListener('click', () => {
    if (!tocouAudio) {
      audioToctoc.play().catch(() => {});
      tocouAudio = true;
    } else {
      audioToctoc.pause();
      mostrarTela(tela3, tela4);
      videoMensagem.play().catch(() => {});
    }
  });
  tela3.addEventListener('keydown', e => {
    if(e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      if (!tocouAudio) {
        audioToctoc.play().catch(() => {});
        tocouAudio = true;
      } else {
        audioToctoc.pause();
        mostrarTela(tela3, tela4);
        videoMensagem.play().catch(() => {});
      }
    }
  });

  videoMensagem.addEventListener('ended', () => {
    window.location.href = 'segunda-experiencia.html';
  });
</script>

</body>
</html>
